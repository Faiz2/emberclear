<div class='message-list flex-column justify-content-end no-overflow'>
  <ConnectionStatus class='p-absolute top span transition-all base-z' />


  {{!--

  the vertical collection component does not allow for proper reverse / stick-to-bottom rendering

  {{#vertical-collection
    @messages
    tagName='div'
    class='messages justify-content-end overflows'
    estimateHeight=100
    staticHeight=false
    bufferSize=8
    renderAll=true
    renderFromLast=true
    as |message|
  }}
    <Message @message={{message}} />

  {{/vertical-collection}}

  --}}

  <div class='messages justify-content-end overflows'>
    {{#if this.hasUnreadMessages}}
      <div class='p-absolute top field buttons has-addons m-sm center-x' style='top: 60; z-index: 1000'>
        <a class='button is-info'>
          <span>Unread Messages !!!</span>
        </a>
        <a class='button is-info'>
          <span class='icon is-small'>{{fa-icon 'times'}}</span>
          <span>Mark all as read</span>
        </a>
      </div>
    {{/if}}

    {{#each @messages as |message|}}
      <Message @message={{message}} />
    {{/each}}
  </div>

  <a
    {{action this.scrollToBottom}}
    class='
      new-messages has-text-white flex-row
      transition-all p-l-md p-r-md p-t-xs p-b-xs
      {{if this.isLastVisible 'hidden'}}
    '
  >

    <span class='is-hidden-mobile m-r-sm'>
      {{t 'ui.chat.newMessages'}}
    </span>

    <span class='underline'>
      {{t 'ui.chat.viewRecent'}}
    </span>
  </a>
</div>
